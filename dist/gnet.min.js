!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e=n();for(var r in e)("object"==typeof exports?exports:t)[r]=e[r]}}(self,(function(){return(()=>{"use strict";var t={d:(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};function e(){}function r(t){return null==t?e:function(){return this.querySelector(t)}}function i(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function o(){return[]}function u(t){return function(n){return n.matches(t)}}t.r(n),t.d(n,{Gnet:()=>Zt});var a=Array.prototype.find;function s(){return this.firstElementChild}var l=Array.prototype.filter;function h(){return this.children}function c(t){return new Array(t.length)}function f(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function p(t){return function(){return t}}function y(t,n,e,r,i,o){for(var u,a=0,s=n.length,l=o.length;a<l;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new f(t,o[a]);for(;a<s;++a)(u=n[a])&&(i[a]=u)}function _(t,n,e,r,i,o,u){var a,s,l,h=new Map,c=n.length,p=o.length,y=new Array(c);for(a=0;a<c;++a)(s=n[a])&&(y[a]=l=u.call(s,s.__data__,a,n)+"",h.has(l)?i[a]=s:h.set(l,s));for(a=0;a<p;++a)l=u.call(t,o[a],a,o)+"",(s=h.get(l))?(r[a]=s,s.__data__=o[a],h.delete(l)):e[a]=new f(t,o[a]);for(a=0;a<c;++a)(s=n[a])&&h.get(y[a])===s&&(i[a]=s)}function v(t){return t.__data__}function d(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}f.prototype={constructor:f,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var g="http://www.w3.org/1999/xhtml";const x={svg:"http://www.w3.org/2000/svg",xhtml:g,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function w(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),x.hasOwnProperty(n)?{space:x[n],local:t}:t}function m(t){return function(){this.removeAttribute(t)}}function A(t){return function(){this.removeAttributeNS(t.space,t.local)}}function N(t,n){return function(){this.setAttribute(t,n)}}function b(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function S(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function C(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function M(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function k(t){return function(){this.style.removeProperty(t)}}function E(t,n,e){return function(){this.style.setProperty(t,n,e)}}function P(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function q(t,n){return t.style.getPropertyValue(n)||M(t).getComputedStyle(t,null).getPropertyValue(n)}function j(t){return function(){delete this[t]}}function O(t,n){return function(){this[t]=n}}function T(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function L(t){return t.trim().split(/^|\s+/)}function D(t){return t.classList||new B(t)}function B(t){this._node=t,this._names=L(t.getAttribute("class")||"")}function I(t,n){for(var e=D(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function z(t,n){for(var e=D(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function R(t){return function(){I(this,t)}}function H(t){return function(){z(this,t)}}function U(t,n){return function(){(n.apply(this,arguments)?I:z)(this,t)}}function V(){this.textContent=""}function F(t){return function(){this.textContent=t}}function G(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function X(){this.innerHTML=""}function J(t){return function(){this.innerHTML=t}}function K(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Q(){this.nextSibling&&this.parentNode.appendChild(this)}function W(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Y(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===g&&n.documentElement.namespaceURI===g?n.createElement(t):n.createElementNS(e,t)}}function Z(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $(t){var n=w(t);return(n.local?Z:Y)(n)}function tt(){return null}function nt(){var t=this.parentNode;t&&t.removeChild(this)}function et(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function rt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function it(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function ot(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function ut(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function at(t,n,e){var r=M(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function st(t,n){return function(){return at(this,t,n)}}function lt(t,n){return function(){return at(this,t,n.apply(this,arguments))}}B.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ht=[null];function ct(t,n){this._groups=t,this._parents=n}ct.prototype=function(){return new ct([[document.documentElement]],ht)}.prototype={constructor:ct,select:function(t){"function"!=typeof t&&(t=r(t));for(var n=this._groups,e=n.length,i=new Array(e),o=0;o<e;++o)for(var u,a,s=n[o],l=s.length,h=i[o]=new Array(l),c=0;c<l;++c)(u=s[c])&&(a=t.call(u,u.__data__,c,s))&&("__data__"in u&&(a.__data__=u.__data__),h[c]=a);return new ct(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);return null==n?[]:i(n)}}(t):function(t){return null==t?o:function(){return this.querySelectorAll(t)}}(t);for(var n=this._groups,e=n.length,r=[],u=[],a=0;a<e;++a)for(var s,l=n[a],h=l.length,c=0;c<h;++c)(s=l[c])&&(r.push(t.call(s,s.__data__,c,l)),u.push(s));return new ct(r,u)},selectChild:function(t){return this.select(null==t?s:function(t){return function(){return a.call(this.children,t)}}("function"==typeof t?t:u(t)))},selectChildren:function(t){return this.selectAll(null==t?h:function(t){return function(){return l.call(this.children,t)}}("function"==typeof t?t:u(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,s=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&s.push(o);return new ct(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,v);var e=n?_:y,r=this._parents,o=this._groups;"function"!=typeof t&&(t=p(t));for(var u=o.length,a=new Array(u),s=new Array(u),l=new Array(u),h=0;h<u;++h){var c=r[h],f=o[h],d=f.length,g=i(t.call(c,c&&c.__data__,h,r)),x=g.length,w=s[h]=new Array(x),m=a[h]=new Array(x),A=l[h]=new Array(d);e(c,f,w,m,A,g,n);for(var N,b,S=0,C=0;S<x;++S)if(N=w[S]){for(S>=C&&(C=S+1);!(b=m[C])&&++C<x;);N._next=b||null}}return(a=new ct(a,r))._enter=s,a._exit=l,a},enter:function(){return new ct(this._enter||this._groups.map(c),this._parents)},exit:function(){return new ct(this._exit||this._groups.map(c),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof ct))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,l=n[a],h=e[a],c=l.length,f=u[a]=new Array(c),p=0;p<c;++p)(s=l[p]||h[p])&&(f[p]=s);for(;a<r;++a)u[a]=n[a];return new ct(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=d);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],s=a.length,l=i[o]=new Array(s),h=0;h<s;++h)(u=a[h])&&(l[h]=u);l.sort(n)}return new ct(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=w(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?A:m:"function"==typeof n?e.local?C:S:e.local?b:N)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?k:"function"==typeof n?P:E)(t,n,null==e?"":e)):q(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?j:"function"==typeof n?T:O)(t,n)):this.node()[t]},classed:function(t,n){var e=L(t+"");if(arguments.length<2){for(var r=D(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?U:n?R:H)(e,n))},text:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?G:F)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?K:J)(t)):this.node().innerHTML},raise:function(){return this.each(Q)},lower:function(){return this.each(W)},append:function(t){var n="function"==typeof t?t:$(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:$(t),i=null==n?tt:"function"==typeof n?n:r(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(nt)},clone:function(t){return this.select(t?rt:et)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=it(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?ut:ot,r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var s,l=0,h=a.length;l<h;++l)for(r=0,s=a[l];r<u;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?lt:st)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,u=i.length;o<u;++o)(r=i[o])&&(yield r)}};var ft={value:()=>{}};function pt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new yt(r)}function yt(t){this._=t}function _t(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function vt(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function dt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=ft,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}yt.prototype=pt.prototype={constructor:yt,on:function(t,n){var e,r=this._,i=_t(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=dt(r[e],t.name,n);else if(null==n)for(e in r)r[e]=dt(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=vt(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new yt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};const gt=pt;var xt,wt,mt=0,At=0,Nt=0,bt=0,St=0,Ct=0,Mt="object"==typeof performance&&performance.now?performance:Date,kt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Et(){return St||(kt(Pt),St=Mt.now()+Ct)}function Pt(){St=0}function qt(){this._call=this._time=this._next=null}function jt(t,n,e){var r=new qt;return r.restart(t,n,e),r}function Ot(){St=(bt=Mt.now())+Ct,mt=At=0;try{!function(){Et(),++mt;for(var t,n=xt;n;)(t=St-n._time)>=0&&n._call.call(null,t),n=n._next;--mt}()}finally{mt=0,function(){for(var t,n,e=xt,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:xt=n);wt=t,Lt(r)}(),St=0}}function Tt(){var t=Mt.now(),n=t-bt;n>1e3&&(Ct-=n,bt=t)}function Lt(t){mt||(At&&(At=clearTimeout(At)),t-St>24?(t<1/0&&(At=setTimeout(Ot,t-Mt.now()-Ct)),Nt&&(Nt=clearInterval(Nt))):(Nt||(bt=Mt.now(),Nt=setInterval(Tt,1e3)),mt=1,kt(Ot)))}qt.prototype=jt.prototype={constructor:qt,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Et():+e)+(null==n?0:+n),this._next||wt===this||(wt?wt._next=this:xt=this,wt=this),this._call=t,this._time=e,Lt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lt())}};const Dt=4294967296;function Bt(t){return t.x}function It(t){return t.y}var zt=Math.PI*(3-Math.sqrt(5));function Rt(t){return function(){return t}}function Ht(t){return 1e-6*(t()-.5)}function Ut(t){return t.index}function Vt(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function Ft(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,s,l,h,c,f,p=t._root,y={data:r},_=t._x0,v=t._y0,d=t._x1,g=t._y1;if(!p)return t._root=y,t;for(;p.length;)if((l=n>=(o=(_+d)/2))?_=o:d=o,(h=e>=(u=(v+g)/2))?v=u:g=u,i=p,!(p=p[c=h<<1|l]))return i[c]=y,t;if(a=+t._x.call(null,p.data),s=+t._y.call(null,p.data),n===a&&e===s)return y.next=p,i?i[c]=y:t._root=y,t;do{i=i?i[c]=new Array(4):t._root=new Array(4),(l=n>=(o=(_+d)/2))?_=o:d=o,(h=e>=(u=(v+g)/2))?v=u:g=u}while((c=h<<1|l)==(f=(s>=u)<<1|a>=o));return i[f]=p,i[c]=y,t}function Gt(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Xt(t){return t[0]}function Jt(t){return t[1]}function Kt(t,n,e){var r=new Qt(null==n?Xt:n,null==e?Jt:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Qt(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Wt(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Yt=Kt.prototype=Qt.prototype;Yt.copy=function(){var t,n,e=new Qt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Wt(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Wt(n));return e},Yt.add=function(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return Ft(this.cover(n,e),n,e,t)},Yt.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),s=1/0,l=1/0,h=-1/0,c=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<s&&(s=r),r>h&&(h=r),i<l&&(l=i),i>c&&(c=i));if(s>h||l>c)return this;for(this.cover(s,l).cover(h,c),e=0;e<o;++e)Ft(this,u[e],a[e],t[e]);return this},Yt.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var u,a,s=i-e||1,l=this._root;e>t||t>=i||r>n||n>=o;)switch(a=(n<r)<<1|t<e,(u=new Array(4))[a]=l,l=u,s*=2,a){case 0:i=e+s,o=r+s;break;case 1:e=i-s,o=r+s;break;case 2:i=e+s,r=o-s;break;case 3:e=i-s,r=o-s}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Yt.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},Yt.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Yt.find=function(t,n,e){var r,i,o,u,a,s,l,h=this._x0,c=this._y0,f=this._x1,p=this._y1,y=[],_=this._root;for(_&&y.push(new Gt(_,h,c,f,p)),null==e?e=1/0:(h=t-e,c=n-e,f=t+e,p=n+e,e*=e);s=y.pop();)if(!(!(_=s.node)||(i=s.x0)>f||(o=s.y0)>p||(u=s.x1)<h||(a=s.y1)<c))if(_.length){var v=(i+u)/2,d=(o+a)/2;y.push(new Gt(_[3],v,d,u,a),new Gt(_[2],i,d,v,a),new Gt(_[1],v,o,u,d),new Gt(_[0],i,o,v,d)),(l=(n>=d)<<1|t>=v)&&(s=y[y.length-1],y[y.length-1]=y[y.length-1-l],y[y.length-1-l]=s)}else{var g=t-+this._x.call(null,_.data),x=n-+this._y.call(null,_.data),w=g*g+x*x;if(w<e){var m=Math.sqrt(e=w);h=t-m,c=n-m,f=t+m,p=n+m,r=_.data}}return r},Yt.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,s,l,h,c,f,p=this._root,y=this._x0,_=this._y0,v=this._x1,d=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(a=(y+v)/2))?y=a:v=a,(h=u>=(s=(_+d)/2))?_=s:d=s,n=p,!(p=p[c=h<<1|l]))return this;if(!p.length)break;(n[c+1&3]||n[c+2&3]||n[c+3&3])&&(e=n,f=c)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):n?(i?n[c]=i:delete n[c],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[f]=p:this._root=p),this):(this._root=i,this)},Yt.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Yt.root=function(){return this._root},Yt.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},Yt.visit=function(t){var n,e,r,i,o,u,a=[],s=this._root;for(s&&a.push(new Gt(s,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&s.length){var l=(r+o)/2,h=(i+u)/2;(e=s[3])&&a.push(new Gt(e,l,h,o,u)),(e=s[2])&&a.push(new Gt(e,r,h,l,u)),(e=s[1])&&a.push(new Gt(e,l,i,o,h)),(e=s[0])&&a.push(new Gt(e,r,i,l,h))}return this},Yt.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new Gt(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,s=n.x1,l=n.y1,h=(u+s)/2,c=(a+l)/2;(o=i[0])&&e.push(new Gt(o,u,a,h,c)),(o=i[1])&&e.push(new Gt(o,h,a,s,c)),(o=i[2])&&e.push(new Gt(o,u,c,h,l)),(o=i[3])&&e.push(new Gt(o,h,c,s,l))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Yt.x=function(t){return arguments.length?(this._x=t,this):this._x},Yt.y=function(t){return arguments.length?(this._y=t,this):this._y};var Zt=function(){function t(t,n){this.nodeStyle={color:"red",radius:5},console.log({options:n}),console.log(n.nodeStyle),console.log(n.nodeStyle.color),this.selector=t,this.width=n.width,this.height=n.height,this.nodeStyle.color=n.nodeStyle.color,this.nodeStyle.radius=n.nodeStyle.radius,this.init()}return t.prototype.init=function(){this.canvasContext=this.getCanvasContext(this.selector,this.width,this.height)},t.prototype.addData=function(t){this.nodes=t.nodes.map((function(t){return Object.create(t)})),this.links=t.links.map((function(t){return Object.create(t)}))},t.prototype.run=function(){var t=this;(function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,u=.6,a=new Map,s=jt(c),l=gt("tick","end"),h=function(){let t=1;return()=>(t=(1664525*t+1013904223)%Dt)/Dt}();function c(){f(),l.call("tick",n),e<r&&(s.stop(),l.call("end",n))}function f(r){var s,l,h=t.length;void 0===r&&(r=1);for(var c=0;c<r;++c)for(e+=(o-e)*i,a.forEach((function(t){t(e)})),s=0;s<h;++s)null==(l=t[s]).fx?l.x+=l.vx*=u:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=u:(l.y=l.fy,l.vy=0);return n}function p(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(.5+e),o=e*zt;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function y(n){return n.initialize&&n.initialize(t,h),n}return null==t&&(t=[]),p(),n={tick:f,restart:function(){return s.restart(c),n},stop:function(){return s.stop(),n},nodes:function(e){return arguments.length?(t=e,p(),a.forEach(y),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(u=1-t,n):1-u},randomSource:function(t){return arguments.length?(h=t,a.forEach(y),n):h},force:function(t,e){return arguments.length>1?(null==e?a.delete(t):a.set(t,y(e)),n):a.get(t)},find:function(n,e,r){var i,o,u,a,s,l=0,h=t.length;for(null==r?r=1/0:r*=r,l=0;l<h;++l)(u=(i=n-(a=t[l]).x)*i+(o=e-a.y)*o)<r&&(s=a,r=u);return s},on:function(t,e){return arguments.length>1?(l.on(t,e),n):l.on(t)}}})(this.nodes).force("link",function(t){var n,e,r,i,o,u,a=Ut,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},l=Rt(30),h=1;function c(r){for(var i=0,a=t.length;i<h;++i)for(var s,l,c,f,p,y,_,v=0;v<a;++v)l=(s=t[v]).source,f=(c=s.target).x+c.vx-l.x-l.vx||Ht(u),p=c.y+c.vy-l.y-l.vy||Ht(u),f*=y=((y=Math.sqrt(f*f+p*p))-e[v])/y*r*n[v],p*=y,c.vx-=f*(_=o[v]),c.vy-=p*_,l.vx+=f*(_=1-_),l.vy+=p*_}function f(){if(r){var u,s,l=r.length,h=t.length,c=new Map(r.map(((t,n)=>[a(t,n,r),t])));for(u=0,i=new Array(l);u<h;++u)(s=t[u]).index=u,"object"!=typeof s.source&&(s.source=Vt(c,s.source)),"object"!=typeof s.target&&(s.target=Vt(c,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(u=0,o=new Array(h);u<h;++u)s=t[u],o[u]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);n=new Array(h),p(),e=new Array(h),y()}}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+s(t[e],e,t)}function y(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+l(t[n],n,t)}return null==t&&(t=[]),c.initialize=function(t,n){r=t,u=n,f()},c.links=function(n){return arguments.length?(t=n,f(),c):t},c.id=function(t){return arguments.length?(a=t,c):a},c.iterations=function(t){return arguments.length?(h=+t,c):h},c.strength=function(t){return arguments.length?(s="function"==typeof t?t:Rt(+t),p(),c):s},c.distance=function(t){return arguments.length?(l="function"==typeof t?t:Rt(+t),y(),c):l},c}(this.links).id((function(t){return t.id}))).force("charge",function(){var t,n,e,r,i,o=Rt(-30),u=1,a=1/0,s=.81;function l(e){var i,o=t.length,u=Kt(t,Bt,It).visitAfter(c);for(r=e,i=0;i<o;++i)n=t[i],u.visit(f)}function h(){if(t){var n,e,r=t.length;for(i=new Array(r),n=0;n<r;++n)e=t[n],i[e.index]=+o(e,n,t)}}function c(t){var n,e,r,o,u,a=0,s=0;if(t.length){for(r=o=u=0;u<4;++u)(n=t[u])&&(e=Math.abs(n.value))&&(a+=n.value,s+=e,r+=e*n.x,o+=e*n.y);t.x=r/s,t.y=o/s}else{(n=t).x=n.data.x,n.y=n.data.y;do{a+=i[n.data.index]}while(n=n.next)}t.value=a}function f(t,o,l,h){if(!t.value)return!0;var c=t.x-n.x,f=t.y-n.y,p=h-o,y=c*c+f*f;if(p*p/s<y)return y<a&&(0===c&&(y+=(c=Ht(e))*c),0===f&&(y+=(f=Ht(e))*f),y<u&&(y=Math.sqrt(u*y)),n.vx+=c*t.value*r/y,n.vy+=f*t.value*r/y),!0;if(!(t.length||y>=a)){(t.data!==n||t.next)&&(0===c&&(y+=(c=Ht(e))*c),0===f&&(y+=(f=Ht(e))*f),y<u&&(y=Math.sqrt(u*y)));do{t.data!==n&&(p=i[t.data.index]*r/y,n.vx+=c*p,n.vy+=f*p)}while(t=t.next)}}return l.initialize=function(n,r){t=n,e=r,h()},l.strength=function(t){return arguments.length?(o="function"==typeof t?t:Rt(+t),h(),l):o},l.distanceMin=function(t){return arguments.length?(u=t*t,l):Math.sqrt(u)},l.distanceMax=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.theta=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l}()).force("center",function(t,n){var e,r=1;function i(){var i,o,u=e.length,a=0,s=0;for(i=0;i<u;++i)a+=(o=e[i]).x,s+=o.y;for(a=(a/u-t)*r,s=(s/u-n)*r,i=0;i<u;++i)(o=e[i]).x-=a,o.y-=s}return null==t&&(t=0),null==n&&(n=0),i.initialize=function(t){e=t},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(t){return arguments.length?(n=+t,i):n},i.strength=function(t){return arguments.length?(r=+t,i):r},i}(this.width/2,this.height/2)).on("tick",(function(){return t.ticked()}))},t.prototype.ticked=function(){var t=this;this.canvasContext.clearRect(0,0,this.width,this.height),this.canvasContext.beginPath(),this.links.forEach((function(n){return t.drawLink(n)})),this.canvasContext.strokeStyle="#aaa",this.canvasContext.stroke(),this.canvasContext.strokeStyle="#fff";for(var n=0,e=this.nodes;n<e.length;n++){var r=e[n];this.canvasContext.beginPath(),this.drawNode(r),this.canvasContext.fillStyle=this.nodeStyle.color,this.canvasContext.fill(),this.canvasContext.stroke()}},t.prototype.drawLink=function(t){this.canvasContext.moveTo(t.source.x,t.source.y),this.canvasContext.lineTo(t.target.x,t.target.y)},t.prototype.drawNode=function(t){this.canvasContext.moveTo(t.x+3,t.y),this.canvasContext.arc(t.x,t.y,this.nodeStyle.radius,0,2*Math.PI)},t.prototype.getCanvasContext=function(t,n,e){return function(t){return"string"==typeof t?new ct([[document.querySelector(t)]],[document.documentElement]):new ct([[t]],ht)}(t).append("canvas").attr("width",n).attr("height",e).node().getContext("2d")},t}();return n})()}));